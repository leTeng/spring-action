## 面向切面

- #### 定义

   > 面向切面是一种横向扩展方式，根据传统的方式是使用委托或者继承的方式进行调用重复使用的功能。会造成
     复杂的调用关系。面向切面对系统中重复使用到的功能抽象为一个切面，并声明式指定切面应用到确切的功能点
     无需在功能点进行实际调用，即可实现所要扩展(声明的)功能。
   ---   

  `好处`:

   1. 将重复使用的功能集中在一个地方，方便之后的修改和维护。
   2. 被切入的功能点更关注其主要的任务，其他次要任务由切面完成。

- #### AOP(切面)术语
   
  * 切点(pointcut)
  
      > 描述：指的是通过表达式去匹配被代理对象的多个方法，这些方法是切点。也是
             定义了通知切面在**何处**切入。
      ---
  
  * 通知(advice)

      > 描述：通知定义了切面的**具体**工作和**何时**工作。
      
      - 通知包含：
        1. `BeforeAdevice`  前置通知：目标方法执行之前执行
        2. `AfterAdevice`   后置通知：目标方法执行之后执行
        3. `AfterReturnAdevice`  返回通知：目标方法返回之后执行    
        4. `AfterThrowAdevice`  异常通知：目标方法抛出异常之后执行
        5. `ARound`             环绕通知：使用自定义行为包裹目标方法
      ---
  
  * 连接点(join point)
    
      > 描述：指的是符合切点扫描条件,并且连接的每一个通知(之前、之后等),称之为
             一个连接点。也就是说通知织入到一个**切入点**后会存在多个连接点(之前、之后等).    
      ---
  
  * 切面
     
      > 指的是由切点和通知构成切面。定义了切面的所有内容，分别定义了在何地、
        何时、做了什么。
      ---  
  
  * 引入
     
      > 指的是将一个定义好的功能或者属性引入到一个对象中，是的对象具有该功能或属性
        但是不需要对对象有任何的修改就能实现。   
    ---
    
  * 织入
    
      > 将切面应用到目标对象是创建代理对象的过程。
     
      - 织入的时期
        1. `编译时：` 在类编译期就进行织入，这需要特殊的编译器。ApectJ以这种方式织入切面。
        2. `类加载时；`在类加载器加载类进入JVM时期进行织入
        3. `运行时：` 在运行的某一个时刻进行织入切面。IOC容器中为目标对象(IOC中的bean)创建代理对象
                     时织入切面,这也是Spring Aop织入切面的方式。

- #### spring对AOP的支持
        
    1.  Spring AOP支持的切入点
         
         `注意：` Spring AOP 是基于代理对象织入切面方式实现。代理是使用jdk的动态代理,只支持以方法应用通知。
                 不支持以字段或者构造器应用通知。如果需要扩展字段或者构造器的应用通知使用ApectJ实现切面。
                 其中Spring Aop 也是借鉴了ApectJ项目。
    
    2. Spring Aop支持切面的四种类型
    
        - 基于代理的经典的Spring Aop
            *  
        - 纯Pojo切面
        - @ApectJ 注解驱动切面
        - 注入式的ApectJ切面
        
                      
- #### 编写切点

- #### 编写切面与定义通知
  
- #### 通过切面引入新功能

- #### 注入AspectJ切面